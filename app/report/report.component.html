<div>
    <ol class="breadcrumb">
        <li><a [routerLink]="['/dashboard']"><i class="fa fa-home"></i> Home</a></li>
        <li>Report</li>
    </ol>
</div>
<div>
    <button class="btn btn-default pull-right" (click)="addExpenseReport()">Add Expense Report</button>
    <expense-story-modal #expensestorymodal></expense-story-modal>
</div>
<div class="col-md-12" *ngFor="let es of expenseStories">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">{{es.expenseStory.title}}</h3>
        </div>
        <div class="panel-body">
            <div class="col-lg-3 col-md-6">
                <div class="panel panel-success">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-money fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <h3>${{es.totalExpenses}}</h3>
                                </div>
                                <div class="col-xs-12">
                                      <h4>Total Expenditure</h4>
                                </div>    
                            </div>
                        </div>
                   </div>
                   <div class="panel panel-warning">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-files-o fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <h1>{{es.totalExpenseCount}}</h1>
                                </div>
                                <div class="col-xs-12">
                                      <h4>Expenses #</h4>
                                </div>    
                            </div>
                   </div>
                        <a [routerLink]="['/details', es.expenseStory.expenseStoryId]">
                            <div class="panel-footer">
                                <span class="pull-left">View Details</span>
                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                <div class="clearfix"></div>
                            </div>
                        </a>
                    </div>
                      <div class="panel panel-danger">
                        <div class="panel-heading">
                            <div class="row" (click)="open(es.expenseStory.expenseStoryId)" style="cursor:pointer">
                                <div class="col-xs-12 text-center">
                                    <i class="fa fa-plus fa-5x"></i>
                                </div>
                                <div class="col-xs-12 text-center">
                                    <h3>Add Expense</h3>
                                </div>
                                <expense #expense (notify)='onNotify($event)'></expense>
                            </div>
                        </div>
                   </div>
               </div>
             
               <div class="col-md-4">
                  <p class="text-center">
                    <strong>Top {{es.expensesStats.length}} Expense Categories</strong>
                  </p>

                  <div class="progress-group" *ngFor="let st of es.expensesStats; let i=index" >
                    <span class="progress-text">{{st.label}}</span>
                    <span class="progress-number"><b>{{st.value | number}}</b>/{{es.totalExpenses | number}}</span>

                    <div class="progress sm">
                      <div class="progress-bar progress-bar-{{colors[i%colors.length]}}" [style.width]="(st.value/es.totalExpenses)*100 + '%'"></div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-5">
                    <chart-demo [data]="es.expensesStats"></chart-demo>
                </div>
        </div>
        <div class="panel-footer">
            CONTRIBUTORS
        </div>
         
    </div>
</div>   

