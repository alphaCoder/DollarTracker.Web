<div class="col-md-12" *ngFor="let es of expenseStories">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">{{es.expenseStory.title}}</h3>
        </div>
        <div class="panel-body">
            <div class="col-lg-3 col-md-6">
                <div class="panel panel-success">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-money fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <h3>${{es.totalExpenses}}</h3>
                                </div>
                                <div class="col-xs-12">
                                      <h4>Total Expenditure</h4>
                                </div>    
                            </div>
                   </div>
                   </div>
                    <div class="panel panel-warning">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-files-o fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <h1>{{es.totalExpenseCount}}</h1>
                                </div>
                                <div class="col-xs-12">
                                      <h4>Expenses #</h4>
                                </div>    
                            </div>
                        </div>
                        <a href="#">
                            <div class="panel-footer">
                                <span class="pull-left">View Details</span>
                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                <div class="clearfix"></div>
                            </div>
                        </a>
                    </div>
                      <div class="panel panel-danger">
                        <div class="panel-heading">
                            <div class="row" (click)="modal.open('sm')" style="cursor:pointer">
                                <div class="col-xs-12 text-center">
                                    <i class="fa fa-plus fa-5x"></i>
                                </div>
                                <div class="col-xs-12 text-center">
                                    <h3>Add Expense</h3>
                                </div>
                            </div>
                        </div>
                   </div>
               </div>
             
               <div class="col-md-4">
                  <p class="text-center">
                    <strong>Top {{es.expensesStats.length}} Expense Categories</strong>
                  </p>

                  <div class="progress-group" *ngFor="let st of es.expensesStats; let i=index" >
                    <span class="progress-text">{{st.label}}</span>
                    <span class="progress-number"><b>{{st.value}}</b>/{{es.totalExpenses}}</span>

                    <div class="progress sm">
                      <div class="progress-bar progress-bar-{{colors[i%colors.length]}}" style="width: 60%"></div>
                    </div>
                  </div>
                </div>
                  <div class="col-lg-5">
                      <chart-demo [data]="es.expensesStats"></chart-demo>
                   </div>
        </div>
        <div class="panel-footer">
            CONTRIBUTORS
        </div>
    </div>
</div>   

<modal [animation]="animation" [keyboard]="keyboard" [backdrop]="backdrop" (onClose)="closed()" (onDismiss)="dismissed()"
        (onOpen)="opened()" #modal>
        <modal-header [show-close]="false">
            <h4 class="modal-title">Add New Expense
             <span class="pull-right">
                    <i class="glyphicon glyphicon-pencil" style="cursor: pointer" ng-click="editExpense(expense)"></i>
                    <i class="glyphicon glyphicon-trash" ng-click="deleteExpense(expense)" style="cursor: pointer"></i>
                </span>
             </h4>   
        </modal-header>
        <modal-body>
            <div class="form-group">
            <div class="input-group">
                <span class="input-group-addon"><i ></i></span>
                DROPDOWN HERE
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-dollar"> &nbsp;</i></span>
                <input type="text" class="form-control" placeholder="Amount" />
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-shopping-bag"></i></span>
                <input type="text" class="form-control" placeholder="Store Name" />
            </div>
        </div>
        <div class="form-group">
            <span>
                <input xdata-provide="datepicker" class="btn btn-sm btn-success">
            </span>
            <span class="btn btn-default btn-file btn-sm" name="file" 
                  xngf-resize="{width: 100, height: 100}">Add Receipt</span>
            <div style="padding-top: 10px">
                <div class="thumbnail" *ngIf="file">
                    <img  class="thumb"> <span ng-show="file"></span>
                </div>
            </div>
        </div>

        <div class="form-group">
            <textarea class="form-control" rows="2" placeholder="additional comments"> </textarea>
        </div>
        </modal-body>
        <modal-footer [show-default-buttons]="false">
            <span class="pull-right">
                <button class="btn btn-warning">Cancel</button>
                <button class="btn btn-primary">Add</button>
            </span>   
        </modal-footer>
    </modal>